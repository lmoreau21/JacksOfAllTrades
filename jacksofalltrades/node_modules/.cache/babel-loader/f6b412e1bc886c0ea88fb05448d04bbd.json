{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/lmore/OneDrive/Documents/GitHub/JacksOfAllTrades/jacksofalltrades/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n\n\nimport { Geo } from \"@aws-amplify/geo\";\nimport MaplibreGeocoder from \"@maplibre/maplibre-gl-geocoder\";\nimport maplibregl from \"maplibre-gl\";\nimport { createDefaultIcon } from \"./createDefaultIcon\";\nexport var AmplifyGeocoderAPI = {\n  forwardGeocode: function forwardGeocode(config) {\n    return __awaiter(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var features, data;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              features = [];\n              _context.prev = 1;\n              _context.next = 4;\n              return Geo.searchByText(config.query, {\n                biasPosition: config.bbox ? undefined : config.proximity,\n                searchAreaConstraints: config.bbox,\n                countries: config.countries,\n                maxResults: config.limit\n              });\n\n            case 4:\n              data = _context.sent;\n\n              if (data) {\n                data.forEach(function (result) {\n                  var geometry = result.geometry,\n                      otherResults = __rest(result, [\"geometry\"]);\n\n                  features.push({\n                    type: \"Feature\",\n                    geometry: {\n                      type: \"Point\",\n                      coordinates: geometry.point\n                    },\n                    properties: Object.assign({}, otherResults),\n                    place_name: otherResults.label,\n                    text: otherResults.label,\n                    center: geometry.point\n                  });\n                });\n              }\n\n              _context.next = 11;\n              break;\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](1);\n              console.error(\"Failed to forwardGeocode with error: \".concat(_context.t0));\n\n            case 11:\n              return _context.abrupt(\"return\", {\n                features: features\n              });\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[1, 8]]);\n    }));\n  },\n  reverseGeocode: function reverseGeocode(config) {\n    return __awaiter(void 0, void 0, void 0, /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      var features, data, geometry, otherResults;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              features = [];\n              _context2.prev = 1;\n              _context2.next = 4;\n              return Geo.searchByCoordinates(config.query, {\n                maxResults: config.limit\n              });\n\n            case 4:\n              data = _context2.sent;\n\n              if (data && data.geometry) {\n                geometry = data.geometry, otherResults = __rest(data, [\"geometry\"]);\n                features.push({\n                  type: \"Feature\",\n                  geometry: {\n                    type: \"Point\",\n                    coordinates: geometry.point\n                  },\n                  properties: Object.assign({}, otherResults),\n                  place_name: otherResults.label,\n                  text: otherResults.label,\n                  center: geometry.point\n                });\n              }\n\n              _context2.next = 11;\n              break;\n\n            case 8:\n              _context2.prev = 8;\n              _context2.t0 = _context2[\"catch\"](1);\n              console.error(\"Failed to reverseGeocode with error: \".concat(_context2.t0));\n\n            case 11:\n              return _context2.abrupt(\"return\", {\n                features: features\n              });\n\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[1, 8]]);\n    }));\n  }\n}; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nexport function createAmplifyGeocoder(options) {\n  return new MaplibreGeocoder(AmplifyGeocoderAPI, Object.assign({\n    maplibregl: maplibregl,\n    showResultMarkers: {\n      element: createDefaultIcon()\n    },\n    marker: {\n      element: createDefaultIcon()\n    },\n    // autocomplete temporarily disabled by default until CLI is updated\n    showResultsWhileTyping: options === null || options === void 0 ? void 0 : options.autocomplete\n  }, options));\n}","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__rest","s","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","Geo","MaplibreGeocoder","maplibregl","createDefaultIcon","AmplifyGeocoderAPI","forwardGeocode","config","features","searchByText","query","biasPosition","bbox","undefined","proximity","searchAreaConstraints","countries","maxResults","limit","data","forEach","geometry","otherResults","push","type","coordinates","point","properties","assign","place_name","label","text","center","console","error","reverseGeocode","searchByCoordinates","createAmplifyGeocoder","options","showResultMarkers","element","marker","showResultsWhileTyping","autocomplete"],"sources":["C:/Users/lmore/OneDrive/Documents/GitHub/JacksOfAllTrades/jacksofalltrades/node_modules/maplibre-gl-js-amplify/lib/esm/AmplifyMapLibreGeocoder.js"],"sourcesContent":["var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\nimport { Geo } from \"@aws-amplify/geo\";\nimport MaplibreGeocoder from \"@maplibre/maplibre-gl-geocoder\";\nimport maplibregl from \"maplibre-gl\";\nimport { createDefaultIcon } from \"./createDefaultIcon\";\nexport const AmplifyGeocoderAPI = {\n    forwardGeocode: (config) => __awaiter(void 0, void 0, void 0, function* () {\n        const features = [];\n        try {\n            const data = yield Geo.searchByText(config.query, {\n                biasPosition: config.bbox ? undefined : config.proximity,\n                searchAreaConstraints: config.bbox,\n                countries: config.countries,\n                maxResults: config.limit,\n            });\n            if (data) {\n                data.forEach((result) => {\n                    const { geometry } = result, otherResults = __rest(result, [\"geometry\"]);\n                    features.push({\n                        type: \"Feature\",\n                        geometry: { type: \"Point\", coordinates: geometry.point },\n                        properties: Object.assign({}, otherResults),\n                        place_name: otherResults.label,\n                        text: otherResults.label,\n                        center: geometry.point,\n                    });\n                });\n            }\n        }\n        catch (e) {\n            console.error(`Failed to forwardGeocode with error: ${e}`);\n        }\n        return { features };\n    }),\n    reverseGeocode: (config) => __awaiter(void 0, void 0, void 0, function* () {\n        const features = [];\n        try {\n            const data = yield Geo.searchByCoordinates(config.query, {\n                maxResults: config.limit,\n            });\n            if (data && data.geometry) {\n                const { geometry } = data, otherResults = __rest(data, [\"geometry\"]);\n                features.push({\n                    type: \"Feature\",\n                    geometry: { type: \"Point\", coordinates: geometry.point },\n                    properties: Object.assign({}, otherResults),\n                    place_name: otherResults.label,\n                    text: otherResults.label,\n                    center: geometry.point,\n                });\n            }\n        }\n        catch (e) {\n            console.error(`Failed to reverseGeocode with error: ${e}`);\n        }\n        return { features };\n    }),\n};\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function createAmplifyGeocoder(options) {\n    return new MaplibreGeocoder(AmplifyGeocoderAPI, Object.assign({ maplibregl: maplibregl, showResultMarkers: { element: createDefaultIcon() }, marker: { element: createDefaultIcon() }, \n        // autocomplete temporarily disabled by default until CLI is updated\n        showResultsWhileTyping: options === null || options === void 0 ? void 0 : options.autocomplete }, options));\n}\n"],"mappings":";;AAAA,IAAIA,SAAS,GAAI,QAAQ,KAAKA,SAAd,IAA4B,UAAUC,OAAV,EAAmBC,UAAnB,EAA+BC,CAA/B,EAAkCC,SAAlC,EAA6C;EACrF,SAASC,KAAT,CAAeC,KAAf,EAAsB;IAAE,OAAOA,KAAK,YAAYH,CAAjB,GAAqBG,KAArB,GAA6B,IAAIH,CAAJ,CAAM,UAAUI,OAAV,EAAmB;MAAEA,OAAO,CAACD,KAAD,CAAP;IAAiB,CAA5C,CAApC;EAAoF;;EAC5G,OAAO,KAAKH,CAAC,KAAKA,CAAC,GAAGK,OAAT,CAAN,EAAyB,UAAUD,OAAV,EAAmBE,MAAnB,EAA2B;IACvD,SAASC,SAAT,CAAmBJ,KAAnB,EAA0B;MAAE,IAAI;QAAEK,IAAI,CAACP,SAAS,CAACQ,IAAV,CAAeN,KAAf,CAAD,CAAJ;MAA8B,CAApC,CAAqC,OAAOO,CAAP,EAAU;QAAEJ,MAAM,CAACI,CAAD,CAAN;MAAY;IAAE;;IAC3F,SAASC,QAAT,CAAkBR,KAAlB,EAAyB;MAAE,IAAI;QAAEK,IAAI,CAACP,SAAS,CAAC,OAAD,CAAT,CAAmBE,KAAnB,CAAD,CAAJ;MAAkC,CAAxC,CAAyC,OAAOO,CAAP,EAAU;QAAEJ,MAAM,CAACI,CAAD,CAAN;MAAY;IAAE;;IAC9F,SAASF,IAAT,CAAcI,MAAd,EAAsB;MAAEA,MAAM,CAACC,IAAP,GAAcT,OAAO,CAACQ,MAAM,CAACT,KAAR,CAArB,GAAsCD,KAAK,CAACU,MAAM,CAACT,KAAR,CAAL,CAAoBW,IAApB,CAAyBP,SAAzB,EAAoCI,QAApC,CAAtC;IAAsF;;IAC9GH,IAAI,CAAC,CAACP,SAAS,GAAGA,SAAS,CAACc,KAAV,CAAgBjB,OAAhB,EAAyBC,UAAU,IAAI,EAAvC,CAAb,EAAyDU,IAAzD,EAAD,CAAJ;EACH,CALM,CAAP;AAMH,CARD;;AASA,IAAIO,MAAM,GAAI,QAAQ,KAAKA,MAAd,IAAyB,UAAUC,CAAV,EAAaP,CAAb,EAAgB;EAClD,IAAIQ,CAAC,GAAG,EAAR;;EACA,KAAK,IAAIC,CAAT,IAAcF,CAAd;IAAiB,IAAIG,MAAM,CAACC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCN,CAArC,EAAwCE,CAAxC,KAA8CT,CAAC,CAACc,OAAF,CAAUL,CAAV,IAAe,CAAjE,EACbD,CAAC,CAACC,CAAD,CAAD,GAAOF,CAAC,CAACE,CAAD,CAAR;EADJ;;EAEA,IAAIF,CAAC,IAAI,IAAL,IAAa,OAAOG,MAAM,CAACK,qBAAd,KAAwC,UAAzD,EACI,KAAK,IAAIC,CAAC,GAAG,CAAR,EAAWP,CAAC,GAAGC,MAAM,CAACK,qBAAP,CAA6BR,CAA7B,CAApB,EAAqDS,CAAC,GAAGP,CAAC,CAACQ,MAA3D,EAAmED,CAAC,EAApE,EAAwE;IACpE,IAAIhB,CAAC,CAACc,OAAF,CAAUL,CAAC,CAACO,CAAD,CAAX,IAAkB,CAAlB,IAAuBN,MAAM,CAACC,SAAP,CAAiBO,oBAAjB,CAAsCL,IAAtC,CAA2CN,CAA3C,EAA8CE,CAAC,CAACO,CAAD,CAA/C,CAA3B,EACIR,CAAC,CAACC,CAAC,CAACO,CAAD,CAAF,CAAD,GAAUT,CAAC,CAACE,CAAC,CAACO,CAAD,CAAF,CAAX;EACP;EACL,OAAOR,CAAP;AACH,CAVD;AAWA;;;AACA,SAASW,GAAT,QAAoB,kBAApB;AACA,OAAOC,gBAAP,MAA6B,gCAA7B;AACA,OAAOC,UAAP,MAAuB,aAAvB;AACA,SAASC,iBAAT,QAAkC,qBAAlC;AACA,OAAO,IAAMC,kBAAkB,GAAG;EAC9BC,cAAc,EAAE,wBAACC,MAAD;IAAA,OAAYtC,SAAS,CAAC,KAAK,CAAN,EAAS,KAAK,CAAd,EAAiB,KAAK,CAAtB,0CAAyB;MAAA;MAAA;QAAA;UAAA;YAAA;cACpDuC,QADoD,GACzC,EADyC;cAAA;cAAA;cAGzC,OAAMP,GAAG,CAACQ,YAAJ,CAAiBF,MAAM,CAACG,KAAxB,EAA+B;gBAC9CC,YAAY,EAAEJ,MAAM,CAACK,IAAP,GAAcC,SAAd,GAA0BN,MAAM,CAACO,SADD;gBAE9CC,qBAAqB,EAAER,MAAM,CAACK,IAFgB;gBAG9CI,SAAS,EAAET,MAAM,CAACS,SAH4B;gBAI9CC,UAAU,EAAEV,MAAM,CAACW;cAJ2B,CAA/B,CAAN;;YAHyC;cAGhDC,IAHgD;;cAStD,IAAIA,IAAJ,EAAU;gBACNA,IAAI,CAACC,OAAL,CAAa,UAACpC,MAAD,EAAY;kBACf,IAAEqC,QAAF,GAAerC,MAAf,CAAEqC,QAAF;kBAAA,IAAuBC,YAAvB,GAAsClC,MAAM,CAACJ,MAAD,EAAS,CAAC,UAAD,CAAT,CAA5C;;kBACNwB,QAAQ,CAACe,IAAT,CAAc;oBACVC,IAAI,EAAE,SADI;oBAEVH,QAAQ,EAAE;sBAAEG,IAAI,EAAE,OAAR;sBAAiBC,WAAW,EAAEJ,QAAQ,CAACK;oBAAvC,CAFA;oBAGVC,UAAU,EAAEnC,MAAM,CAACoC,MAAP,CAAc,EAAd,EAAkBN,YAAlB,CAHF;oBAIVO,UAAU,EAAEP,YAAY,CAACQ,KAJf;oBAKVC,IAAI,EAAET,YAAY,CAACQ,KALT;oBAMVE,MAAM,EAAEX,QAAQ,CAACK;kBANP,CAAd;gBAQH,CAVD;cAWH;;cArBqD;cAAA;;YAAA;cAAA;cAAA;cAwBtDO,OAAO,CAACC,KAAR;;YAxBsD;cAAA,iCA0BnD;gBAAE1B,QAAQ,EAARA;cAAF,CA1BmD;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAzB,EAArB;EAAA,CADc;EA6B9B2B,cAAc,EAAE,wBAAC5B,MAAD;IAAA,OAAYtC,SAAS,CAAC,KAAK,CAAN,EAAS,KAAK,CAAd,EAAiB,KAAK,CAAtB,0CAAyB;MAAA;MAAA;QAAA;UAAA;YAAA;cACpDuC,QADoD,GACzC,EADyC;cAAA;cAAA;cAGzC,OAAMP,GAAG,CAACmC,mBAAJ,CAAwB7B,MAAM,CAACG,KAA/B,EAAsC;gBACrDO,UAAU,EAAEV,MAAM,CAACW;cADkC,CAAtC,CAAN;;YAHyC;cAGhDC,IAHgD;;cAMtD,IAAIA,IAAI,IAAIA,IAAI,CAACE,QAAjB,EAA2B;gBACfA,QADe,GACFF,IADE,CACfE,QADe,EACIC,YADJ,GACmBlC,MAAM,CAAC+B,IAAD,EAAO,CAAC,UAAD,CAAP,CADzB;gBAEvBX,QAAQ,CAACe,IAAT,CAAc;kBACVC,IAAI,EAAE,SADI;kBAEVH,QAAQ,EAAE;oBAAEG,IAAI,EAAE,OAAR;oBAAiBC,WAAW,EAAEJ,QAAQ,CAACK;kBAAvC,CAFA;kBAGVC,UAAU,EAAEnC,MAAM,CAACoC,MAAP,CAAc,EAAd,EAAkBN,YAAlB,CAHF;kBAIVO,UAAU,EAAEP,YAAY,CAACQ,KAJf;kBAKVC,IAAI,EAAET,YAAY,CAACQ,KALT;kBAMVE,MAAM,EAAEX,QAAQ,CAACK;gBANP,CAAd;cAQH;;cAhBqD;cAAA;;YAAA;cAAA;cAAA;cAmBtDO,OAAO,CAACC,KAAR;;YAnBsD;cAAA,kCAqBnD;gBAAE1B,QAAQ,EAARA;cAAF,CArBmD;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAzB,EAArB;EAAA;AA7Bc,CAA3B,C,CAqDP;;AACA,OAAO,SAAS6B,qBAAT,CAA+BC,OAA/B,EAAwC;EAC3C,OAAO,IAAIpC,gBAAJ,CAAqBG,kBAArB,EAAyCb,MAAM,CAACoC,MAAP,CAAc;IAAEzB,UAAU,EAAEA,UAAd;IAA0BoC,iBAAiB,EAAE;MAAEC,OAAO,EAAEpC,iBAAiB;IAA5B,CAA7C;IAA+EqC,MAAM,EAAE;MAAED,OAAO,EAAEpC,iBAAiB;IAA5B,CAAvF;IAC1D;IACAsC,sBAAsB,EAAEJ,OAAO,KAAK,IAAZ,IAAoBA,OAAO,KAAK,KAAK,CAArC,GAAyC,KAAK,CAA9C,GAAkDA,OAAO,CAACK;EAFxB,CAAd,EAEsDL,OAFtD,CAAzC,CAAP;AAGH"},"metadata":{},"sourceType":"module"}