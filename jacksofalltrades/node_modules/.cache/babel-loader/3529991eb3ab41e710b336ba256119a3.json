{"ast":null,"code":"import { __awaiter, __generator, __values } from \"tslib\";\nimport { HttpResponse } from \"@aws-sdk/protocol-http\";\nimport { buildQueryString } from \"@aws-sdk/querystring-builder\";\nimport { requestTimeout } from \"./request-timeout\";\n\nvar FetchHttpHandler = function () {\n  function FetchHttpHandler(options) {\n    if (typeof options === \"function\") {\n      this.configProvider = options().then(function (opts) {\n        return opts || {};\n      });\n    } else {\n      this.config = options !== null && options !== void 0 ? options : {};\n      this.configProvider = Promise.resolve(this.config);\n    }\n  }\n\n  FetchHttpHandler.prototype.destroy = function () {};\n\n  FetchHttpHandler.prototype.handle = function (request, _a) {\n    var _b = _a === void 0 ? {} : _a,\n        abortSignal = _b.abortSignal;\n\n    return __awaiter(this, void 0, void 0, function () {\n      var _c, requestTimeoutInMs, abortError, path, queryString, port, method, url, body, requestOptions, fetchRequest, raceOfPromises;\n\n      return __generator(this, function (_d) {\n        switch (_d.label) {\n          case 0:\n            if (!!this.config) return [3, 2];\n            _c = this;\n            return [4, this.configProvider];\n\n          case 1:\n            _c.config = _d.sent();\n            _d.label = 2;\n\n          case 2:\n            requestTimeoutInMs = this.config.requestTimeout;\n\n            if (abortSignal === null || abortSignal === void 0 ? void 0 : abortSignal.aborted) {\n              abortError = new Error(\"Request aborted\");\n              abortError.name = \"AbortError\";\n              return [2, Promise.reject(abortError)];\n            }\n\n            path = request.path;\n\n            if (request.query) {\n              queryString = buildQueryString(request.query);\n\n              if (queryString) {\n                path += \"?\".concat(queryString);\n              }\n            }\n\n            port = request.port, method = request.method;\n            url = \"\".concat(request.protocol, \"//\").concat(request.hostname).concat(port ? \":\".concat(port) : \"\").concat(path);\n            body = method === \"GET\" || method === \"HEAD\" ? undefined : request.body;\n            requestOptions = {\n              body: body,\n              headers: new Headers(request.headers),\n              method: method\n            };\n\n            if (typeof AbortController !== \"undefined\") {\n              requestOptions[\"signal\"] = abortSignal;\n            }\n\n            fetchRequest = new Request(url, requestOptions);\n            raceOfPromises = [fetch(fetchRequest).then(function (response) {\n              var e_1, _a;\n\n              var fetchHeaders = response.headers;\n              var transformedHeaders = {};\n\n              try {\n                for (var _b = __values(fetchHeaders.entries()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                  var pair = _c.value;\n                  transformedHeaders[pair[0]] = pair[1];\n                }\n              } catch (e_1_1) {\n                e_1 = {\n                  error: e_1_1\n                };\n              } finally {\n                try {\n                  if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                } finally {\n                  if (e_1) throw e_1.error;\n                }\n              }\n\n              var hasReadableStream = response.body !== undefined;\n\n              if (!hasReadableStream) {\n                return response.blob().then(function (body) {\n                  return {\n                    response: new HttpResponse({\n                      headers: transformedHeaders,\n                      statusCode: response.status,\n                      body: body\n                    })\n                  };\n                });\n              }\n\n              return {\n                response: new HttpResponse({\n                  headers: transformedHeaders,\n                  statusCode: response.status,\n                  body: response.body\n                })\n              };\n            }), requestTimeout(requestTimeoutInMs)];\n\n            if (abortSignal) {\n              raceOfPromises.push(new Promise(function (resolve, reject) {\n                abortSignal.onabort = function () {\n                  var abortError = new Error(\"Request aborted\");\n                  abortError.name = \"AbortError\";\n                  reject(abortError);\n                };\n              }));\n            }\n\n            return [2, Promise.race(raceOfPromises)];\n        }\n      });\n    });\n  };\n\n  return FetchHttpHandler;\n}();\n\nexport { FetchHttpHandler };","map":{"version":3,"names":["__awaiter","__generator","__values","HttpResponse","buildQueryString","requestTimeout","FetchHttpHandler","options","configProvider","then","opts","config","Promise","resolve","prototype","destroy","handle","request","_a","_b","abortSignal","_c","requestTimeoutInMs","abortError","path","queryString","port","method","url","body","requestOptions","fetchRequest","raceOfPromises","_d","label","sent","aborted","Error","name","reject","query","concat","protocol","hostname","undefined","headers","Headers","AbortController","Request","fetch","response","e_1","fetchHeaders","transformedHeaders","entries","next","done","pair","value","e_1_1","error","return","call","hasReadableStream","blob","statusCode","status","push","onabort","race"],"sources":["C:/Users/lmore/OneDrive/Documents/GitHub/JacksOfAllTrades/jacksofalltrades/node_modules/@aws-sdk/client-lex-runtime-v2/node_modules/@aws-sdk/fetch-http-handler/dist-es/fetch-http-handler.js"],"sourcesContent":["import { __awaiter, __generator, __values } from \"tslib\";\nimport { HttpResponse } from \"@aws-sdk/protocol-http\";\nimport { buildQueryString } from \"@aws-sdk/querystring-builder\";\nimport { requestTimeout } from \"./request-timeout\";\nvar FetchHttpHandler = (function () {\n    function FetchHttpHandler(options) {\n        if (typeof options === \"function\") {\n            this.configProvider = options().then(function (opts) { return opts || {}; });\n        }\n        else {\n            this.config = options !== null && options !== void 0 ? options : {};\n            this.configProvider = Promise.resolve(this.config);\n        }\n    }\n    FetchHttpHandler.prototype.destroy = function () {\n    };\n    FetchHttpHandler.prototype.handle = function (request, _a) {\n        var _b = _a === void 0 ? {} : _a, abortSignal = _b.abortSignal;\n        return __awaiter(this, void 0, void 0, function () {\n            var _c, requestTimeoutInMs, abortError, path, queryString, port, method, url, body, requestOptions, fetchRequest, raceOfPromises;\n            return __generator(this, function (_d) {\n                switch (_d.label) {\n                    case 0:\n                        if (!!this.config) return [3, 2];\n                        _c = this;\n                        return [4, this.configProvider];\n                    case 1:\n                        _c.config = _d.sent();\n                        _d.label = 2;\n                    case 2:\n                        requestTimeoutInMs = this.config.requestTimeout;\n                        if (abortSignal === null || abortSignal === void 0 ? void 0 : abortSignal.aborted) {\n                            abortError = new Error(\"Request aborted\");\n                            abortError.name = \"AbortError\";\n                            return [2, Promise.reject(abortError)];\n                        }\n                        path = request.path;\n                        if (request.query) {\n                            queryString = buildQueryString(request.query);\n                            if (queryString) {\n                                path += \"?\".concat(queryString);\n                            }\n                        }\n                        port = request.port, method = request.method;\n                        url = \"\".concat(request.protocol, \"//\").concat(request.hostname).concat(port ? \":\".concat(port) : \"\").concat(path);\n                        body = method === \"GET\" || method === \"HEAD\" ? undefined : request.body;\n                        requestOptions = {\n                            body: body,\n                            headers: new Headers(request.headers),\n                            method: method,\n                        };\n                        if (typeof AbortController !== \"undefined\") {\n                            requestOptions[\"signal\"] = abortSignal;\n                        }\n                        fetchRequest = new Request(url, requestOptions);\n                        raceOfPromises = [\n                            fetch(fetchRequest).then(function (response) {\n                                var e_1, _a;\n                                var fetchHeaders = response.headers;\n                                var transformedHeaders = {};\n                                try {\n                                    for (var _b = __values(fetchHeaders.entries()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                                        var pair = _c.value;\n                                        transformedHeaders[pair[0]] = pair[1];\n                                    }\n                                }\n                                catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                                finally {\n                                    try {\n                                        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                                    }\n                                    finally { if (e_1) throw e_1.error; }\n                                }\n                                var hasReadableStream = response.body !== undefined;\n                                if (!hasReadableStream) {\n                                    return response.blob().then(function (body) { return ({\n                                        response: new HttpResponse({\n                                            headers: transformedHeaders,\n                                            statusCode: response.status,\n                                            body: body,\n                                        }),\n                                    }); });\n                                }\n                                return {\n                                    response: new HttpResponse({\n                                        headers: transformedHeaders,\n                                        statusCode: response.status,\n                                        body: response.body,\n                                    }),\n                                };\n                            }),\n                            requestTimeout(requestTimeoutInMs),\n                        ];\n                        if (abortSignal) {\n                            raceOfPromises.push(new Promise(function (resolve, reject) {\n                                abortSignal.onabort = function () {\n                                    var abortError = new Error(\"Request aborted\");\n                                    abortError.name = \"AbortError\";\n                                    reject(abortError);\n                                };\n                            }));\n                        }\n                        return [2, Promise.race(raceOfPromises)];\n                }\n            });\n        });\n    };\n    return FetchHttpHandler;\n}());\nexport { FetchHttpHandler };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}