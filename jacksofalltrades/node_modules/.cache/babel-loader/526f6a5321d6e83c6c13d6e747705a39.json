{"ast":null,"code":"import { __awaiter as e } from \"tslib\";\nimport { Hub as s, DataStore as t } from \"aws-amplify\";\nimport { UI_CHANNEL as i, ACTION_DATASTORE_UPDATE_STARTED as o, EVENT_ACTION_DATASTORE_UPDATE as r, DATASTORE_QUERY_BY_ID_ERROR as d, ACTION_DATASTORE_UPDATE_FINISHED as a } from \"./constants.js\";\nimport { getErrorMessage as m } from \"../../helpers/utils.js\";\nimport { AMPLIFY_SYMBOL as n } from \"../../helpers/constants.js\";\nimport { useTypeCastFields as c } from \"./shared/useTypeCastFields.js\";\n\nconst f = _ref => {\n  let {\n    fields: f,\n    id: l,\n    model: p,\n    schema: h\n  } = _ref;\n  const v = c({\n    fields: f,\n    modelName: p.name,\n    schema: h\n  });\n  return () => e(void 0, void 0, void 0, function* () {\n    try {\n      s.dispatch(i, {\n        event: o,\n        data: {\n          fields: v,\n          id: l\n        }\n      }, r, n);\n      const e = yield t.query(p, l);\n      if (!e) throw new Error(`${d}: ${l}`);\n      const m = yield t.save(p.copyOf(e, e => {\n        Object.assign(e, v);\n      }));\n      s.dispatch(i, {\n        event: a,\n        data: {\n          fields: v,\n          id: l,\n          item: m\n        }\n      }, r, n);\n    } catch (e) {\n      s.dispatch(i, {\n        event: a,\n        data: {\n          fields: v,\n          id: l,\n          errorMessage: m(e)\n        }\n      }, r, n);\n    }\n  });\n};\n\nexport { f as useDataStoreUpdateAction };","map":{"version":3,"names":["__awaiter","e","Hub","s","DataStore","t","UI_CHANNEL","i","ACTION_DATASTORE_UPDATE_STARTED","o","EVENT_ACTION_DATASTORE_UPDATE","r","DATASTORE_QUERY_BY_ID_ERROR","d","ACTION_DATASTORE_UPDATE_FINISHED","a","getErrorMessage","m","AMPLIFY_SYMBOL","n","useTypeCastFields","c","f","fields","id","l","model","p","schema","h","v","modelName","name","dispatch","event","data","query","Error","save","copyOf","Object","assign","item","errorMessage","useDataStoreUpdateAction"],"sources":["C:/Users/lmore/OneDrive/Documents/GitHub/JacksOfAllTrades/jacksofalltrades/node_modules/@aws-amplify/ui-react/dist/esm/hooks/actions/useDataStoreUpdateAction.js"],"sourcesContent":["import{__awaiter as e}from\"tslib\";import{Hub as s,DataStore as t}from\"aws-amplify\";import{UI_CHANNEL as i,ACTION_DATASTORE_UPDATE_STARTED as o,EVENT_ACTION_DATASTORE_UPDATE as r,DATASTORE_QUERY_BY_ID_ERROR as d,ACTION_DATASTORE_UPDATE_FINISHED as a}from\"./constants.js\";import{getErrorMessage as m}from\"../../helpers/utils.js\";import{AMPLIFY_SYMBOL as n}from\"../../helpers/constants.js\";import{useTypeCastFields as c}from\"./shared/useTypeCastFields.js\";const f=({fields:f,id:l,model:p,schema:h})=>{const v=c({fields:f,modelName:p.name,schema:h});return()=>e(void 0,void 0,void 0,(function*(){try{s.dispatch(i,{event:o,data:{fields:v,id:l}},r,n);const e=yield t.query(p,l);if(!e)throw new Error(`${d}: ${l}`);const m=yield t.save(p.copyOf(e,(e=>{Object.assign(e,v)})));s.dispatch(i,{event:a,data:{fields:v,id:l,item:m}},r,n)}catch(e){s.dispatch(i,{event:a,data:{fields:v,id:l,errorMessage:m(e)}},r,n)}}))};export{f as useDataStoreUpdateAction};\n"],"mappings":"AAAA,SAAOA,SAAS,IAAIC,CAApB,QAA0B,OAA1B;AAAkC,SAAOC,GAAG,IAAIC,CAAd,EAAgBC,SAAS,IAAIC,CAA7B,QAAmC,aAAnC;AAAiD,SAAOC,UAAU,IAAIC,CAArB,EAAuBC,+BAA+B,IAAIC,CAA1D,EAA4DC,6BAA6B,IAAIC,CAA7F,EAA+FC,2BAA2B,IAAIC,CAA9H,EAAgIC,gCAAgC,IAAIC,CAApK,QAA0K,gBAA1K;AAA2L,SAAOC,eAAe,IAAIC,CAA1B,QAAgC,wBAAhC;AAAyD,SAAOC,cAAc,IAAIC,CAAzB,QAA+B,4BAA/B;AAA4D,SAAOC,iBAAiB,IAAIC,CAA5B,QAAkC,+BAAlC;;AAAkE,MAAMC,CAAC,GAAC,QAAoC;EAAA,IAAnC;IAACC,MAAM,EAACD,CAAR;IAAUE,EAAE,EAACC,CAAb;IAAeC,KAAK,EAACC,CAArB;IAAuBC,MAAM,EAACC;EAA9B,CAAmC;EAAC,MAAMC,CAAC,GAACT,CAAC,CAAC;IAACE,MAAM,EAACD,CAAR;IAAUS,SAAS,EAACJ,CAAC,CAACK,IAAtB;IAA2BJ,MAAM,EAACC;EAAlC,CAAD,CAAT;EAAgD,OAAM,MAAI5B,CAAC,CAAC,KAAK,CAAN,EAAQ,KAAK,CAAb,EAAe,KAAK,CAApB,EAAuB,aAAW;IAAC,IAAG;MAACE,CAAC,CAAC8B,QAAF,CAAW1B,CAAX,EAAa;QAAC2B,KAAK,EAACzB,CAAP;QAAS0B,IAAI,EAAC;UAACZ,MAAM,EAACO,CAAR;UAAUN,EAAE,EAACC;QAAb;MAAd,CAAb,EAA4Cd,CAA5C,EAA8CQ,CAA9C;MAAiD,MAAMlB,CAAC,GAAC,MAAMI,CAAC,CAAC+B,KAAF,CAAQT,CAAR,EAAUF,CAAV,CAAd;MAA2B,IAAG,CAACxB,CAAJ,EAAM,MAAM,IAAIoC,KAAJ,CAAW,GAAExB,CAAE,KAAIY,CAAE,EAArB,CAAN;MAA8B,MAAMR,CAAC,GAAC,MAAMZ,CAAC,CAACiC,IAAF,CAAOX,CAAC,CAACY,MAAF,CAAStC,CAAT,EAAYA,CAAC,IAAE;QAACuC,MAAM,CAACC,MAAP,CAAcxC,CAAd,EAAgB6B,CAAhB;MAAmB,CAAnC,CAAP,CAAd;MAA4D3B,CAAC,CAAC8B,QAAF,CAAW1B,CAAX,EAAa;QAAC2B,KAAK,EAACnB,CAAP;QAASoB,IAAI,EAAC;UAACZ,MAAM,EAACO,CAAR;UAAUN,EAAE,EAACC,CAAb;UAAeiB,IAAI,EAACzB;QAApB;MAAd,CAAb,EAAmDN,CAAnD,EAAqDQ,CAArD;IAAwD,CAAxO,CAAwO,OAAMlB,CAAN,EAAQ;MAACE,CAAC,CAAC8B,QAAF,CAAW1B,CAAX,EAAa;QAAC2B,KAAK,EAACnB,CAAP;QAASoB,IAAI,EAAC;UAACZ,MAAM,EAACO,CAAR;UAAUN,EAAE,EAACC,CAAb;UAAekB,YAAY,EAAC1B,CAAC,CAAChB,CAAD;QAA7B;MAAd,CAAb,EAA8DU,CAA9D,EAAgEQ,CAAhE;IAAmE;EAAC,CAAxV,CAAX;AAAsW,CAAnc;;AAAoc,SAAOG,CAAC,IAAIsB,wBAAZ"},"metadata":{},"sourceType":"module"}