import{__rest as e}from"tslib";import r from"classnames";import{Root as t,Track as a,Range as l,Thumb as i}from"@radix-ui/react-slider";import*as o from"react";import{isFunction as s,classNameModifier as d}from"../shared/utils.js";import{ComponentClassNames as n}from"../shared/constants.js";import"../Field/FieldClearButton.js";import{FieldDescription as m}from"../Field/FieldDescription.js";import{FieldErrorMessage as c}from"../Field/FieldErrorMessage.js";import{FieldGroup as u}from"../FieldGroup/FieldGroup.js";import{Flex as p}from"../Flex/Flex.js";import{Label as b}from"../Label/Label.js";import{splitPrimitiveProps as f}from"../shared/styleUtils.js";import{View as S}from"../View/View.js";import{useStableId as F}from"../utils/useStableId.js";const g="slider-label",C="slider-root",E="slider-track",h="slider-range",k=o.forwardRef(((g,C)=>{var{ariaValuetext:E,className:h,defaultValue:k,descriptiveText:v,emptyTrackColor:j,errorMessage:y,filledTrackColor:T,formatValue:V,hasError:x=!1,id:N,isDisabled:z,isValueHidden:H=!1,label:R,labelHidden:I=!1,onChange:M,orientation:w="horizontal",outerEndComponent:D,outerStartComponent:G,testId:L,thumbColor:O,trackSize:P,dir:B,value:U,size:q}=g,A=e(g,["ariaValuetext","className","defaultValue","descriptiveText","emptyTrackColor","errorMessage","filledTrackColor","formatValue","hasError","id","isDisabled","isValueHidden","label","labelHidden","onChange","orientation","outerEndComponent","outerStartComponent","testId","thumbColor","trackSize","dir","value","size"]);const J=F(N),K=F(),Q=F(),W=v?Q:void 0,{flexContainerStyleProps:X,baseStyleProps:Y,rest:Z}=f(A),$=void 0!==U,[_,ee]=o.useState($?U:k),re=$?[U]:void 0,te=$?void 0:[k],ae=o.useCallback((e=>{ee(e[0]),s(M)&&M(e[0])}),[M]),le=o.useMemo((()=>{const e=s(V)?V(_):_;return"string"==typeof V?o.createElement(S,{as:"span"},e):e}),[_,V]),ie="vertical"===w,oe=r(n.SliderFieldTrack,d(n.SliderFieldTrack,w),d(n.SliderFieldTrack,q)),se=r(n.SliderFieldRoot,d(n.SliderFieldRoot,w),d(n.SliderFieldRoot,q),h);return o.createElement(p,Object.assign({className:r(n.Field,n.SliderField),testId:L,"data-size":q},Y,X),o.createElement(b,{className:n.SliderFieldLabel,id:K,testId:"slider-label",visuallyHidden:I},o.createElement(S,{as:"span"},R),H?null:le),o.createElement(m,{id:Q,labelHidden:I,descriptiveText:v}),o.createElement(u,{className:n.SliderFieldGroup,id:J,orientation:w,outerStartComponent:G,outerEndComponent:D},o.createElement(t,Object.assign({className:se,"data-testid":"slider-root",disabled:z,defaultValue:te,onValueChange:ae,orientation:w,ref:C,value:re},Z),o.createElement(a,{className:oe,"data-testid":"slider-track",style:{backgroundColor:String(j),[""+(ie?"width":"height")]:P}},o.createElement(l,{className:r(n.SliderFieldRange,d(n.SliderFieldRange,w)),"data-testid":"slider-range",style:{backgroundColor:String(T)}})),o.createElement(i,{"aria-describedby":W,"aria-labelledby":K,"aria-valuetext":E,className:r(n.SliderFieldThumb,d(n.SliderFieldThumb,q)),style:{backgroundColor:String(O)}}))),o.createElement(c,{hasError:x,errorMessage:y}))}));k.displayName="SliderField";export{g as SLIDER_LABEL_TEST_ID,h as SLIDER_RANGE_TEST_ID,C as SLIDER_ROOT_TEST_ID,E as SLIDER_TRACK_TEST_ID,k as SliderField};
